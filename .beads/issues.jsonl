{"id":"kura-training-0hf","title":"Write Path: POST /v1/events + POST /v1/events/batch mit Idempotency","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:05.490369+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T07:26:40.287064+01:00","closed_at":"2026-02-08T07:26:40.287064+01:00","close_reason":"Closed"}
{"id":"kura-training-0hg","title":"Add causal inference telemetry + API parity","description":"Support causal_inference in inference_runs telemetry (schema + writer paths) and expose the projection consistently in API projection metadata/routing summaries where inference projections are enumerated.","status":"closed","priority":3,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-11T13:54:58.309524+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T14:26:25.543557+01:00","closed_at":"2026-02-11T14:26:25.543557+01:00","close_reason":"Closed","labels":["agent-first","causal","observability"]}
{"id":"kura-training-15g","title":"Decision 13: Explicit autonomy confirmation templates by SLO status","description":"Translate integrity SLO/autonomy-throttle signals into explicit agent prompt policy with fixed confirmation templates for healthy/monitor/degraded states, exposed via system_config and claim_guard guidance.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:28:52.469907+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T18:33:38.77841+01:00","closed_at":"2026-02-11T18:33:38.77841+01:00","close_reason":"Closed"}
{"id":"kura-training-1ac","title":"Add population priors support for causal_inference","description":"Extend population prior resolution to support causal_inference in workers/src/kura_workers/population_priors.py (currently limited to strength_inference/readiness_inference). Define prior payload schema for causal estimands, privacy gates, and blend policy; wire into causal handler and add tests for opt-in/privacy constraints and fallback behavior.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T14:42:50.116024+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T15:28:58.37727+01:00","closed_at":"2026-02-11T15:28:58.37727+01:00","close_reason":"Closed","labels":["bayesian","causal","privacy"]}
{"id":"kura-training-1e8","title":"Causal Inference Layer: Intervention-Effekte statt nur Korrelationen","description":"Build a dedicated causal inference layer that estimates intervention effects (program changes, nutrition shifts, sleep interventions) using observational data with explicit assumptions. Include propensity-style adjustment, uncertainty intervals, and machine-readable caveats for agents.","notes":"Out-of-scope for current Semantic/Bayesian delivery; follow-up innovation track.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T08:36:55.196912+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T13:55:25.247826+01:00","closed_at":"2026-02-11T13:55:25.247826+01:00","close_reason":"Closed","labels":["agent-first","causal","statistics"]}
{"id":"kura-training-1ls","title":"Decision 13 F6: Integrity SLOs + autonomy throttling","description":"Measure integrity SLOs from quality_health (unresolved set ratio, save-claim mismatch rate, repair latency), define healthy/monitor/degraded thresholds, and expose policy-gated autonomy throttling (max scope + confirmation strictness) so agent behavior is automatically constrained on regressions.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:19:32.704343+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T18:25:02.076658+01:00","closed_at":"2026-02-11T18:25:02.076658+01:00","close_reason":"Closed"}
{"id":"kura-training-2kb","title":"Agent-Verhaltens-Conventions in system_config","description":"Neue Sektion in system_config für Agent-Verhalten (nicht Daten-Conventions): Bei Mehrdeutigkeit nachfragen statt annehmen, nicht mehr erstellen als explizit gewünscht, Follow-up-Fragen bei fehlenden Daten. System-Defaults in system_config, User-Overrides in user_profile. Quasi eine soul.md als Datenstruktur. Entdeckt im Kura-Playtest 2026-02-09 (über-eifriger Agent hat 3-Tage-Plan statt nur Tag A erstellt).","notes":"Grundgerüst implementiert: vision (Bach-Prinzipien) + operational (scope levels, rules). Follow-up: konkrete Szenarien, Beispiele, User-Override-Mechanismus in user_profile.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:42:50.376579+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:25:44.812262+01:00","closed_at":"2026-02-10T07:25:44.812262+01:00","close_reason":"Grundgerüst implementiert. Detailausbau als Follow-up."}
{"id":"kura-training-2zc","title":"Continuous Learning Loop: Learn from all users without explicit reports","description":"Build a production learning loop so Kura learns from implicit user behavior and agent failures, not only from manual feedback. Problem: most users never report issues, and many failure modes are invisible unless instrumented. Goal: turn repeated runtime friction into prioritized engineering work automatically.","design":"Context: Decision 13 enables self-healing operations, but platform evolution still needs cross-user pattern learning. Implement privacy-aware telemetry -\u003e issue clustering -\u003e prioritized backlog generation -\u003e regression promotion. This closes the gap between observed field behavior and roadmap execution even when users do not actively contribute to product development.","acceptance_criteria":"1) Define telemetry taxonomy for quality/friction/outcome events. 2) Aggregate and cluster recurring issue signatures across users (pseudonymized). 3) Compute priority score from frequency x severity x outcome impact x reproducibility. 4) Produce a machine-readable weekly learning report and candidate issue list. 5) Define promotion path from recurring cluster -\u003e invariant/policy/test. 6) Document privacy boundaries and retention policy.","status":"open","priority":1,"issue_type":"epic","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:01:42.463218+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:01:42.463218+01:00"}
{"id":"kura-training-2zc.1","title":"Learning Telemetry Taxonomy + Event Emission","description":"Implement a canonical telemetry schema for implicit learning signals. Problem: failures and friction are currently under-observed and hard to compare across users/sessions/agents. Build structured events for quality defects, user corrections, retries, retractions, and conversational friction.","design":"Create explicit event categories (quality_signal, friction_signal, outcome_signal, correction_signal). Include stable signature fields for clustering (issue_type, invariant_id, agent_version, workflow_phase, modality, confidence_band). Emit telemetry from relevant API/worker/agent touchpoints with pseudonymized user identifiers.","acceptance_criteria":"1) Telemetry schema versioned and documented. 2) At least 10 core signal types emitted with stable payload contracts. 3) Events include clustering keys and timestamps. 4) Pseudonymization enforced for cross-user aggregation. 5) Unit/integration tests verify emission and schema validity.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:02:20.077097+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:05:14.961708+01:00","closed_at":"2026-02-11T19:05:14.961708+01:00","close_reason":"Added canonical learning telemetry schema (v1), pseudonymized signal emission in quality health + save handshake, docs, and validation tests.","dependencies":[{"issue_id":"kura-training-2zc.1","depends_on_id":"kura-training-2zc","type":"parent-child","created_at":"2026-02-11T17:02:20.079603+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-2zc.2","title":"Cross-user Issue Clustering + Priority Scoring","description":"Cluster recurring failures from telemetry and rank them automatically. Problem: teams miss systemic issues because incidents appear as isolated anecdotes. Build a clustering and scoring pipeline that produces actionable recurring-problem groups.","design":"Use stable issue signatures from telemetry. Cluster by invariant/failure type plus context facets (workflow phase, modality, agent model/version). Compute priority = frequency x severity x outcome-impact x reproducibility. Keep explainable scoring outputs for auditability.","acceptance_criteria":"1) Daily/weekly batch produces clustered issue groups with human-readable summaries. 2) Each cluster has score and factor breakdown. 3) Cluster output includes representative examples and affected workflow phases. 4) False-positive controls documented (minimum support, confidence thresholds). 5) Tests cover clustering determinism and score calculation.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:02:38.073892+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:02:38.073892+01:00","dependencies":[{"issue_id":"kura-training-2zc.2","depends_on_id":"kura-training-2zc","type":"parent-child","created_at":"2026-02-11T17:02:38.07516+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-2zc.2","depends_on_id":"kura-training-2zc.1","type":"blocks","created_at":"2026-02-11T17:05:05.747185+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-2zc.3","title":"Learning-to-Backlog Bridge + Regression Promotion","description":"Automatically convert recurring high-impact clusters into engineering artifacts. Problem: even detected patterns are lost if they are not operationalized into backlog items, invariants, and tests. Build a controlled bridge from clustered learnings to bd issues and regression assets.","design":"Define policy thresholds for auto-suggested issue creation. Generate candidate bd payloads with context, reproduction, and expected mitigation. Add promotion workflow: cluster -\u003e issue -\u003e invariant/policy/test update -\u003e shadow re-evaluation. Keep human approval gate for creation in initial rollout.","acceptance_criteria":"1) Pipeline outputs candidate bd issues in machine-readable form. 2) Candidates include root-cause hypothesis, impacted metrics, and suggested invariant/policy updates. 3) Promotion checklist documented and automated where possible. 4) At least one end-to-end demo from synthetic cluster to generated issue payload. 5) Guardrails prevent noisy/duplicate suggestions.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:02:55.639134+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:02:55.639134+01:00","dependencies":[{"issue_id":"kura-training-2zc.3","depends_on_id":"kura-training-2zc","type":"parent-child","created_at":"2026-02-11T17:02:55.64011+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-2zc.3","depends_on_id":"kura-training-2zc.2","type":"blocks","created_at":"2026-02-11T17:05:16.031982+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-2zc.4","title":"Shadow Evaluation for Policy/Agent Changes","description":"Run replay/shadow evaluations on historical sessions before broad rollout of new policies or agent behavior. Problem: fixes can regress unseen scenarios if not evaluated against diverse conversation histories. Build repeatable shadow runs with before/after metrics.","design":"Define representative replay corpus from pseudonymized traces and synthetic stress cases. Compare baseline vs candidate on quality and friction metrics. Gate rollouts on explicit pass criteria.","acceptance_criteria":"1) Shadow harness can run baseline and candidate configs side-by-side. 2) Report includes deltas for key quality metrics and failure classes. 3) Release gate criteria defined and enforced for selected changes. 4) One sample evaluation report committed/documented.","status":"open","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:03:12.797507+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:03:12.797507+01:00","dependencies":[{"issue_id":"kura-training-2zc.4","depends_on_id":"kura-training-2zc","type":"parent-child","created_at":"2026-02-11T17:03:12.798457+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-2zc.4","depends_on_id":"kura-training-2zc.2","type":"blocks","created_at":"2026-02-11T17:05:26.316853+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-3e6","title":"Integration Tests for Semantic and Inference Handlers","description":"Add database-backed integration tests for semantic_memory, strength_inference, readiness_inference, and inference.nightly_refit job behavior (including retractions and edge cases).","notes":"Initiale Integrationstests ergänzt: Semantic Memory Projection, Strength/Readiness Inference, inference.nightly_refit job enqueue","status":"closed","priority":3,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-11T09:04:47.444995+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T11:06:47.414576+01:00","closed_at":"2026-02-11T11:06:47.414576+01:00","close_reason":"DB-backed Integrationstests für semantic_memory, strength_inference, readiness_inference und inference.nightly_refit inkl. Retraktions-/Edge-Cases ergänzt; lokal gegen Postgres verifiziert","labels":["integration","testing","workers"]}
{"id":"kura-training-3ii","title":"Read Path: GET /v1/events mit Cursor-Pagination","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:06.26606+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T07:33:04.862031+01:00","closed_at":"2026-02-08T07:33:04.862031+01:00","close_reason":"GET /v1/events with cursor pagination, filtering (event_type, since, until), RLS enforcement. Tested and working."}
{"id":"kura-training-3n4","title":"exercise_progression alias fragmentation","description":"exercise_progression queries events by exercise_key, but does not resolve aliases. If user logs 'Kniebeuge' then creates alias Kniebeuge-\u003ebarbell_back_squat, the progression for barbell_back_squat misses the old Kniebeuge events. Data is fragmented until agent consistently uses exercise_id. Options: (a) resolve aliases at query time, (b) re-index on alias creation, (c) document as known limitation.","status":"closed","priority":2,"issue_type":"bug","owner":"jonzim@posteo.de","created_at":"2026-02-08T15:18:42.59717+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T08:17:19.575344+01:00","closed_at":"2026-02-09T08:17:19.575344+01:00","close_reason":"Alias-aware handlers implemented: exercise_progression resolves through aliases and DELETEs stale projections, training_timeline resolves exercise keys through aliases. Plus conventions in system layer to prevent fragmentation at source."}
{"id":"kura-training-40k","title":"Agent context bundle endpoint (/v1/agent/context)","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T07:42:56.578755+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T07:56:43.080659+01:00","closed_at":"2026-02-11T07:56:43.080659+01:00","close_reason":"Implemented /v1/agent/context bundle endpoint with limits, OpenAPI docs, and CLI context command"}
{"id":"kura-training-4u6","title":"Semantic Layer: pgvector + pre-trained embeddings","description":"Exercise and food resolution via embedding similarity. Pre-trained sentence transformer, pgvector for storage/query. Cross-language matching (Kniebeuge ~ barbell back squat). Background worker computes embeddings on new exercises. Enhances but doesn't replace per-user alias system.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T13:39:27.62076+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T09:05:13.785525+01:00","closed_at":"2026-02-11T09:05:13.785525+01:00","close_reason":"Closed"}
{"id":"kura-training-57d","title":"Data Integrity: Event Conventions für Korrekturen","description":"Event Conventions für event.retracted und Null-Semantik in profile.updated definieren und in event_conventions.py aufnehmen.\n\nevent.retracted: Universelles Retraction-Pattern — ein Event-Typ für alle Korrekturen. Felder: retracted_event_id (required), reason (optional). Retraction ist bewusst getrennt von Correction, weil es handler-agnostisch funktioniert.\n\nprofile.updated Null-Semantik: Explizit dokumentieren, dass null-Werte 'Feld entfernen' bedeuten. Ist implizit schon so, muss aber in den Conventions stehen damit der Agent es weiß.\n\nDesignentscheidung: Nur event.retracted, KEIN *.corrected Pattern. Retraction + neues Event ist sauberer als Delta-Corrections, weil: (a) kein Handler typ-spezifische Correction-Logik braucht, (b) idempotent, (c) auditierbar. Correction wäre Overengineering.\n\nLiefert: Erweiterte event_conventions in system_config, die der Agent beim Session-Start liest.","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T15:41:23.33533+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T15:49:56.795669+01:00","closed_at":"2026-02-09T15:49:56.795669+01:00","close_reason":"event.retracted convention + profile.updated null_semantics + data_correction convention in system_config. 6 new tests (210 total). No handler changes — those are dru + k71."}
{"id":"kura-training-5g4","title":"OAuth hardening: add DB-backed tests for unknown/inactive clients","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-11T07:42:56.57877+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T07:52:30.964615+01:00","closed_at":"2026-02-11T07:52:30.964615+01:00","close_reason":"DB-backed OAuth client validation tests added (unknown + inactive client) in api auth route; cargo test passes"}
{"id":"kura-training-6ei","title":"Population Priors Engine: Hierarchical Cross-User Learning mit Privacy-Gates","description":"Implement a privacy-safe population-prior engine so individual Bayesian models can borrow strength from anonymized cohorts. Include opt-in policy, aggregation thresholds, and strict separation between individual and population artifacts.","notes":"Future differentiation feature; depends on mature Bayesian projections and governance policy.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T08:36:55.192032+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T13:37:39.215678+01:00","closed_at":"2026-02-11T13:37:39.215678+01:00","close_reason":"Closed","labels":["bayesian","benchmarks","privacy"]}
{"id":"kura-training-6kf","title":"Design: Adaptives Projektionssystem (Attribute Passthrough, Raw Events, Deklarative Handler)","description":"Drei Ansätze für adaptives System statt starre Handler: (1) Attribute Passthrough — unbekannte Felder in Projektionen durchreichen statt wegwerfen, (2) Raw-Events-Projektion — letzte N Events pro User als Sicherheitsnetz, (3) Deklarative Handler — Handler-Verhalten als Config statt Code. Vor Implementierung: Vor-/Nachteile analysieren, weitere Optionen explorieren. Liquid-AI-Analogie: System reagiert auf User-Daten statt Blaupause. Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:42:39.990394+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T22:11:01.693541+01:00","closed_at":"2026-02-09T22:11:01.693541+01:00","close_reason":"Phase 1 (Graceful Degradation) implemented. Phases 2-4 tracked separately."}
{"id":"kura-training-717","title":"Event dry-run simulation endpoint for projection deltas","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T07:42:51.683213+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T08:16:08.456609+01:00","closed_at":"2026-02-11T08:16:08.456609+01:00","close_reason":"Added POST /v1/events/simulate dry-run endpoint with validation, plausibility/similarity warnings, retraction-aware event-type resolution, active custom-rule matching, and predicted projection impact deltas"}
{"id":"kura-training-73i","title":"Agent Context Ranking Optimizer: Relevanz-Scoring für Projection-Auswahl","description":"Introduce a ranking layer for agent context assembly that scores candidate projections by recency, confidence, semantic relevance, and task intent. Goal: reduce prompt bloat and increase action quality under context limits.","notes":"Keep separate from current semantic resolver implementation; this is retrieval orchestration.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T08:37:00.278498+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T13:17:20.943102+01:00","closed_at":"2026-02-11T13:17:20.943102+01:00","close_reason":"Closed","labels":["agent-interface","optimization","retrieval"]}
{"id":"kura-training-7an","title":"GET /v1/projections Snapshot-Endpoint (alle Dimensionen in einem Call)","description":"Neuer Endpoint der ALLE Projektionen eines Users in einem Call zurückgibt. Aktuell braucht der Agent pro Dimension einen separaten Call — bei 7+ Dimensionen zu mühsam. Ein einzelner Snapshot löst 80% der Kompositions-Probleme. Leicht zu implementieren, hoher Impact. Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:42:42.869178+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:04:00.586791+01:00","closed_at":"2026-02-10T07:04:00.586791+01:00","close_reason":"GET /v1/projections implemented, tested, 20 projections in one call"}
{"id":"kura-training-7cy","title":"session_summary projection","description":"Projection that answers 'what did I do this week/today?' Grouped by day, shows exercises, volume, set counts. Uses session_id from metadata to group sets into sessions.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T13:39:12.873326+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T08:07:45.333995+01:00","closed_at":"2026-02-09T08:07:45.333995+01:00","close_reason":"session_summary killed — violates Decision 5 (Dimensions, not Answers). Data already available via training_timeline + exercise_progression composition.","dependencies":[{"issue_id":"kura-training-7cy","depends_on_id":"kura-training-nv2","type":"blocks","created_at":"2026-02-08T13:39:32.433452+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-880","title":"Docker Compose: PostgreSQL mit pgvector, RLS, DB-Rollen, Immutability-Constraints","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:01.964022+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-07T21:53:13.110532+01:00","closed_at":"2026-02-07T21:53:13.110532+01:00","close_reason":"Closed"}
{"id":"kura-training-9bz","title":"Projektstruktur + Rust Cargo Workspace anlegen (api, cli, core crates)","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:00.619292+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-07T21:53:09.542159+01:00","closed_at":"2026-02-07T21:53:09.542159+01:00","close_reason":"Closed"}
{"id":"kura-training-alk","title":"session_id Konzept für set.logged Events","description":"Optionales session_id Feld in set.logged Events. Agent generiert eine ID pro Trainingseinheit, hängt sie an jeden Set. training_timeline gruppiert nach session_id statt nur Datum. Ermöglicht mehrere Sessions pro Tag. Rückwärtskompatibel: alte Events ohne session_id fallen auf Tages-Gruppierung zurück. Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:42:46.371672+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:17:12.665462+01:00","closed_at":"2026-02-10T07:17:12.665462+01:00","close_reason":"session_id implemented: event conventions, training_timeline session grouping, exercise_progression session counting, datagen generation. Full backward compatibility."}
{"id":"kura-training-aok","title":"Agenda-Severity-Eskalation bei ignorierten Issues","description":"Agenda-Items eskalieren in der Priorität wenn sie über Zeit ignoriert werden. Mechanik: Item trackt seit wann es existiert und wie viele Daten betroffen sind. Eskalationsstufen z.B.: info (neu) → low (\u003e1 Woche oder \u003e20 Events) → medium (\u003e2 Wochen oder \u003e50 Events) → high (\u003e4 Wochen oder \u003e100 Events). Verhindert stille Datenkorruption über Wochen. Beispiel: 'unresolved exercises' mit 3 Sets bleibt info. Mit 300 Sets nach 4 Wochen wird es high. Zwingt den Agent hinzuschauen.","notes":"Entstanden aus Agent-Walkthrough (2026-02-10): Sorge dass stille Datenkorruption sich über Wochen aufbaut wenn Agent Agenda-Items ignoriert. Aktuell: alle observed_patterns und orphaned_event_types sind priority=info, egal wie alt oder wie viele Daten betroffen. Umsetzung in handlers/user_profile.py in _build_agenda(). Braucht: Tracking von 'first_seen' pro Agenda-Item (z.B. aus Projection-Daten oder Event-Timestamps). Eskalationslogik: Anzahl betroffener Events + Alter des Issues → höhere Priorität.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-10T19:47:41.887837+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T20:16:13.957055+01:00","closed_at":"2026-02-10T20:16:13.957055+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kura-training-aok","depends_on_id":"kura-training-tct","type":"blocks","created_at":"2026-02-10T19:48:42.43705+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-b3z","title":"Account-Löschung: Passwort-Bestätigung + 30-Tage Grace Period","description":"Zwei Hardening-Maßnahmen für Production: (1) DELETE /v1/account erfordert Passwort-Re-Entry im Request Body als Bestätigung. (2) Soft-Delete mit 30-Tage Grace Period — User wird sofort deaktiviert (is_active=false), Daten werden erst nach 30 Tagen endgültig gelöscht. Innerhalb der Frist kann der Account reaktiviert werden. Braucht: Cron-Job oder Worker-Task für verzögerte Hard-Deletes.","status":"open","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T18:17:09.084009+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T18:17:09.084009+01:00","dependencies":[{"issue_id":"kura-training-b3z","depends_on_id":"kura-training-lsu","type":"blocks","created_at":"2026-02-09T18:17:13.107188+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-b4z","title":"Event-Schema Migration: events Tabelle, Idempotency, Immutability auf DB-Level","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:04.537372+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-07T21:53:13.25639+01:00","closed_at":"2026-02-07T21:53:13.25639+01:00","close_reason":"Closed"}
{"id":"kura-training-bdn","title":"Enrich manifest metadata per dimension","description":"Manifest currently only has last_updated and optional exercises list. Design doc 002 specifies coverage (date range from/to), freshness, and dimension-specific summaries (weeks_tracked, last_training). Decide: enrich manifest from projections table metadata? Or read and summarize each projection's data?","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T15:18:38.721601+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T16:14:02.592905+01:00","closed_at":"2026-02-08T16:14:02.592905+01:00","close_reason":"Decision 7 implemented: manifest_contribution functions, dimension coverage with freshness/status, summary extraction per dimension"}
{"id":"kura-training-br3","title":"Extend causal inference to strength and heterogeneous effects","description":"Build on initial causal_inference projection by adding strength-based outcomes (per exercise and aggregate) and subgroup/phase effect slices. Include minimum-sample guardrails per segment and caveat propagation.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T13:54:58.30949+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T14:47:00.003995+01:00","closed_at":"2026-02-11T14:47:00.003995+01:00","close_reason":"Closed","labels":["agent-first","causal","statistics"]}
{"id":"kura-training-csy","title":"Exercise-ID Similarity Warnings bei POST /v1/events","description":"Wenn ein Event mit einer unbekannten exercise_id gepostet wird, soll die API ähnliche existierende exercise_ids als Warning zurückgeben. Erweitert das bestehende Plausibility Warnings System. Beispiel: POST mit exercise_id='lu_raise' → Warning: 'New exercise_id lu_raise. Similar existing: lateral_raise'. Verhindert stille Exercise-ID-Proliferation.","notes":"Entstanden aus Agent-Walkthrough (2026-02-10): Agent hat exercise_id='lu_raise' erstellt ohne zu wissen, dass 'lateral_raise' existiert. System akzeptiert alles ohne Feedback. Bestehende Plausibility Warnings: api/src/routes/events.rs (warn_unusual_values). Erweitern um exercise_id-Check gegen existierende IDs in der events-Tabelle. Ähnlichkeit z.B. über Levenshtein oder simple contains-Prüfung. Nur für exercise_id-Feld in set.logged und exercise.alias_created Events.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-10T19:47:34.648019+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T20:16:13.937477+01:00","closed_at":"2026-02-10T20:16:13.937477+01:00","close_reason":"Closed"}
{"id":"kura-training-ct3","title":"Agent Security Baseline V1: UX erhalten, Extraction erschweren","description":"Definiere eine Security-Baseline für agent-first Nutzung: normale Nutzer-UX bleibt schnell und intuitiv, gleichzeitig werden systematische Extraction-/Reverse-Engineering-Versuche wirtschaftlich unattraktiv gemacht.","design":"Adaptive Security statt harter Defaults: Low-friction Standardprofil, risikobasierte Eskalation bei Missbrauchssignalen, optionale strenge Profile für High-Security-Kontexte. Keine kritische Logik im Agenten, sondern serverseitig erzwingbare Invarianten und kontrollierte Kontextausgabe.","acceptance_criteria":"1) Security-Baseline-V1 dokumentiert (Default/Adaptive/Strict). 2) Konkrete Child-Issues mit messbaren Akzeptanzkriterien angelegt. 3) Abhängigkeiten spiegeln sinnvolle Implementierungsreihenfolge wider. 4) Erfolgsmessung über Security- und UX-Metriken definiert.","status":"open","priority":1,"issue_type":"epic","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:50.666662+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:50.666662+01:00"}
{"id":"kura-training-ct3.1","title":"Threat Model + Security-Tiering für Agent-Zugriffe","description":"Erstelle ein technisches Threat Model für Agentzugriffe (Prompt-Exfiltration, API-Enumeration, Context-Scraping, Scope-Eskalation) und leite daraus drei Betriebsprofile ab: default, adaptive, strict.","design":"Lieferobjekt ist eine Risiko-Matrix mit Angreiferzielen, Angriffswegen, Erkennungsmerkmalen und Gegenmaßnahmen pro Profil.","acceptance_criteria":"1) Bedrohungsmodell mit priorisierten Angriffspfaden vorliegend. 2) Profilmatrix default/adaptive/strict mit klaren Schaltern dokumentiert. 3) Jede Maßnahme hat owner, Metrik und Rollout-Plan.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:50.764126+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:50.764126+01:00","dependencies":[{"issue_id":"kura-training-ct3.1","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:50.76494+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ct3.2","title":"Untrusted-Agent Boundary + Context-Redaction Contract","description":"Definiere und implementiere eine harte Vertrauensgrenze: Agenten gelten als untrusted; /v1/agent/context liefert nur benötigte, redigierte Daten ohne interne Heuristiken/Prompts/Architekturdetails.","design":"Contract-First für Context Payloads: erlaubte Felder, Redaction-Regeln, versionierte Response-Profile und Verifikation per Integrationstests.","acceptance_criteria":"1) Redaction-Policy pro Feldklasse implementiert. 2) Interne Strategiedaten werden nicht mehr ausgeliefert. 3) Contract-Versionierung + Tests für erlaubte/verbotene Felder vorhanden. 4) Keine Regression in Kern-UX-Flows.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:50.869432+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:50.869432+01:00","dependencies":[{"issue_id":"kura-training-ct3.2","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:50.870202+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.2","depends_on_id":"kura-training-ct3.1","type":"blocks","created_at":"2026-02-11T20:59:51.429652+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ct3.3","title":"Least-Privilege Tokens + Scope Enforcement","description":"Führe kurzlebige, minimal-scope Tokens für Agent-Operationen ein und erzwinge Scope-Prüfung serverseitig pro Endpoint/Operation.","design":"Session-gebundene Berechtigungen, TTL, Token-Rotation, deny-by-default bei Scope-Missmatch; nachvollziehbar über Audit-Trail.","acceptance_criteria":"1) Kurzlebige Agent-Tokens mit Scope-Claims aktiv. 2) Scope-Verletzungen werden serverseitig blockiert. 3) Rotation/Expiry ohne UX-Brüche nachweisbar. 4) Audit-Events für AuthZ-Entscheidungen vorhanden.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:50.967046+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:50.967046+01:00","dependencies":[{"issue_id":"kura-training-ct3.3","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:50.968139+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.3","depends_on_id":"kura-training-ct3.1","type":"blocks","created_at":"2026-02-11T20:59:51.509287+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ct3.4","title":"Adaptive Abuse Detection + Rate Shaping","description":"Erkenne Extraction-Muster (z. B. systematische Enumeration, atypische Query-Sequenzen) und schalte adaptiv auf strengere Limits, statt harte Global-Limits für alle Nutzer zu erzwingen.","design":"Signalpipeline mit Heuristiken/Thresholds, progressive Drosselung und Rückfall auf Normalprofil nach Cooldown.","acceptance_criteria":"1) Missbrauchssignale und Schwellenwerte definiert. 2) Adaptive Limits greifen nur bei Risk Signals. 3) False-Positive-Rate und UX-Impact werden gemessen. 4) Recovery-/Cooldown-Mechanik implementiert.","status":"open","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:51.060406+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:51.060406+01:00","dependencies":[{"issue_id":"kura-training-ct3.4","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:51.061221+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.4","depends_on_id":"kura-training-ct3.1","type":"blocks","created_at":"2026-02-11T20:59:51.590226+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.4","depends_on_id":"kura-training-ct3.3","type":"blocks","created_at":"2026-02-11T20:59:51.831855+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ct3.5","title":"Security Telemetry + Audit Trail + Kill Switch","description":"Baue vollständige Security-Telemetrie für Agentzugriffe auf und implementiere einen operativen Kill-Switch zum schnellen Entzug von Agent-Rechten/Tokens bei Auffälligkeiten.","design":"Event-Taxonomie für Zugriff, Scope-Denials, Redaction-Hits, Risk-Score-Überschreitungen; automatisierbare Response-Policies.","acceptance_criteria":"1) Security-Telemetrie-Endpunkte/Events standardisiert. 2) Kill-Switch kann Token/Agentzugriff sofort deaktivieren. 3) Alarmierung und Runbook dokumentiert. 4) Drill/Test eines Incident-Flows erfolgreich.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:51.156147+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:51.156147+01:00","dependencies":[{"issue_id":"kura-training-ct3.5","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:51.156896+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.5","depends_on_id":"kura-training-ct3.1","type":"blocks","created_at":"2026-02-11T20:59:51.668029+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.5","depends_on_id":"kura-training-ct3.3","type":"blocks","created_at":"2026-02-11T20:59:51.9142+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ct3.6","title":"Server-Side Invariant Enforcement Review","description":"Prüfe und härte kritische Domain-Invarianten, damit kein Agent durch Prompting/Tool-Missbrauch kritische Regeln umgehen kann.","design":"Inventory aller kritischen Invarianten mit Zuordnung zu serverseitigen Checks, inkl. Lückenanalyse und Schließungsplan.","acceptance_criteria":"1) Invariant-Inventar vollständig und priorisiert. 2) Kritische Lücken mit serverseitigen Guards geschlossen. 3) Regressionstests für Bypass-Szenarien vorhanden. 4) Policy-Verletzungen erzeugen maschinenlesbare Fehlercodes.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:51.25517+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:51.25517+01:00","dependencies":[{"issue_id":"kura-training-ct3.6","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:51.255935+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.6","depends_on_id":"kura-training-ct3.1","type":"blocks","created_at":"2026-02-11T20:59:51.749985+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ct3.7","title":"Security-Profile Rollout + UX Guardrail Dashboard","description":"Führe die Profile default/adaptive/strict kontrolliert aus und messe parallel Sicherheit und UX, um Überhärtung zu vermeiden.","design":"Rollout per Feature-Flags, Vergleichsmessungen und Dashboard für Security-Outcome vs UX-Kennzahlen.","acceptance_criteria":"1) Feature-Flags für Profile aktiv. 2) Dashboard mit Security- und UX-KPIs live. 3) Rollout-Entscheidungen datenbasiert dokumentiert. 4) Default-Profil bleibt für normale Nutzer friction-arm.","status":"open","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T20:59:51.351139+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:59:51.351139+01:00","dependencies":[{"issue_id":"kura-training-ct3.7","depends_on_id":"kura-training-ct3","type":"parent-child","created_at":"2026-02-11T20:59:51.351837+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.7","depends_on_id":"kura-training-ct3.2","type":"blocks","created_at":"2026-02-11T20:59:51.992072+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.7","depends_on_id":"kura-training-ct3.3","type":"blocks","created_at":"2026-02-11T20:59:52.069273+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.7","depends_on_id":"kura-training-ct3.4","type":"blocks","created_at":"2026-02-11T20:59:52.147092+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.7","depends_on_id":"kura-training-ct3.5","type":"blocks","created_at":"2026-02-11T20:59:52.222681+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-ct3.7","depends_on_id":"kura-training-ct3.6","type":"blocks","created_at":"2026-02-11T20:59:52.30312+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-cza","title":"Design Decision: training_plan dimension (prescriptive)","description":"Training plan is fundamentally different from existing dimensions: prescriptive (what SHOULD happen) vs descriptive (what DID happen). Needs own design doc. Key questions: Template vs concrete days? Load prescription (concrete kg vs RPE-based)? Plan lifecycle (active/archived/paused)? Adherence tracking (cross-dimension with training_timeline)? See Design Doc 002, Decision 9 for context.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T08:02:16.209951+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T08:07:39.769468+01:00","closed_at":"2026-02-09T08:07:39.769468+01:00","close_reason":"Implemented as part of Decision 9 — all 7 domain dimensions now have handlers"}
{"id":"kura-training-dd1","title":"Projection rule lifecycle API (validate/preview/apply/archive)","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T07:42:51.683247+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T08:09:40.452496+01:00","closed_at":"2026-02-11T08:09:40.452496+01:00","close_reason":"Implemented projection rule lifecycle API: validate, preview, apply (create/update), and archive endpoints with strict rule validation, event-sourced writes, preview stats, and OpenAPI schema coverage"}
{"id":"kura-training-de9","title":"Data Integrity: API Response Warnings (Plausibilitäts-Checks)","description":"POST /v1/events und /v1/events/batch geben bei auffälligen Werten Warnings im Response zurück. Kein Reject, nur Signal.\n\nResponse-Erweiterung:\n{\n  id: '...',\n  warnings: [{field, message, severity: 'warning'}]\n}\n\nPlausibilitätsregeln sind dimension-spezifisch und könnten perspektivisch in system_config stehen (damit der Agent sie vorab kennt). Für den Anfang reichen hardcoded Regeln in der API.\n\nBeispiele:\n- weight_kg \u003e 300 bei set.logged → Warning\n- weight_kg \u003e 250 bei bodyweight.logged → Warning\n- calories \u003e 5000 bei meal.logged → Warning\n- Negative Werte bei Mengenfeldern → Warning\n\nWichtig: Das ist die schwächste Schicht (Prevention). Anomalie-Erkennung in den Handlern (Detection) ist wichtiger, weil sie auch Events erwischt, die einzeln plausibel sind aber im Kontext nicht (z.B. 1RM-Sprung von 100%). Deshalb P3, nicht P2.\n\nDesignfrage: Woher kommen die Regeln? Hardcoded? system_config? Per-User lernend? Für v1 reicht hardcoded.","status":"closed","priority":3,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T15:41:50.277755+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T16:22:04.83165+01:00","closed_at":"2026-02-09T16:22:04.83165+01:00","close_reason":"API plausibility warnings on event creation, 21 Rust unit tests, thresholds match Python handler anomaly detection","dependencies":[{"issue_id":"kura-training-de9","depends_on_id":"kura-training-57d","type":"blocks","created_at":"2026-02-09T15:42:02.813621+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-dqm","title":"Decision 13 Phase 1: Repair Proposal + Simulate Bridge","description":"Implement the next vertical slice from Decision 13: generate deterministic repair proposals from quality issues and validate every proposal via /v1/events/simulate before any apply path is allowed. This phase stays conservative: proposal + simulation + explainability first, no broad autonomous mutation.","design":"Reference: /Users/jz/Projekte/Life/kura-training/docs/design/013-self-healing-agentic-data-plane.md (Decision 13), sections 13.3, 13.4, 13.8 and Rollout Phase 1. Reuse existing simulation endpoint and append-only correction model. Keep all behavior inspectable, reversible, and policy-gated.","acceptance_criteria":"1) For at least INV-001 and INV-003 issue types, system creates structured repair proposals (event batches) with explicit rationale. 2) Each proposal is automatically evaluated through /v1/events/simulate and stores simulation result (warnings, projection impacts, notes). 3) Proposal artifacts distinguish states: proposed, simulated_safe, simulated_risky, rejected. 4) No proposal is auto-applied in this issue unless explicitly marked Tier A + safe by policy checks. 5) Add tests for proposal generation and simulate-bridge behavior, including one negative case where proposal is flagged risky. 6) Update docs/comments with explicit Decision 13 references.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T16:24:17.860607+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T16:37:58.916421+01:00","closed_at":"2026-02-11T16:37:58.916421+01:00","close_reason":"Closed"}
{"id":"kura-training-dru","title":"Data Integrity: Anomalie-Erkennung in Dimension-Handlern","description":"Jeder Dimension-Handler bekommt Anomalie-Erkennung in seiner Projection-Berechnung. Anomalien landen in data_quality.anomalies der Projection.\n\nWarum: Fehler werden passieren — LLMs machen Interpretationsfehler. Der Agent muss beim nächsten Projection-Read sehen, dass etwas verdächtig ist, und kann den User fragen.\n\nPro Handler:\n- exercise_progression: 1RM-Sprünge \u003e X%, unrealistische Gewichte pro Übung\n- body_composition: Gewichtsschwankungen \u003e 5kg/Tag, Messwerte außerhalb physiologischer Grenzen\n- nutrition: Tageskalorienwerte \u003e 10.000 oder \u003c 200, Makro-Summen vs Kalorien-Diskrepanz\n- recovery: Schlafdauer \u003e 24h oder \u003c 0, Energie-Level außerhalb Skala\n\nFormat in Projection:\ndata_quality.anomalies: [{event_id, field, value, expected_range, message}]\n\nWichtig: Anomalien sind WARNINGS, keine Fehler. Der Handler verarbeitet das Event trotzdem. Der Agent entscheidet, ob er korrigiert.\n\nDesignprinzip: 'Actionable, not descriptive' — jede Anomalie enthält genug Info damit der Agent handeln kann (event_id zum Retracten, field + value für die Korrektur-Konversation mit dem User).","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T15:41:32.783605+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T15:57:49.562915+01:00","closed_at":"2026-02-09T15:57:49.562915+01:00","close_reason":"Anomaly detection in 4 dimension handlers (exercise_progression, body_composition, nutrition, recovery). data_quality.anomalies in every projection. 23 new tests (233 unit + 9 integration). Code review: no issues. training_timeline, training_plan, user_profile don't need anomaly detection (aggregates/config).","dependencies":[{"issue_id":"kura-training-dru","depends_on_id":"kura-training-57d","type":"blocks","created_at":"2026-02-09T15:42:02.604622+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-dxl","title":"Decision 13 Phase 2: Agent write receipts + read-after-write guard","description":"Implement Roadmap 011 Workstream F4 and Decision 13.5 protocol hardening: require durable write receipts (event ids + idempotency keys), enforce read-after-write projection verification before any user-facing saved/tracked claim, and add explicit deferred/uncertainty markers when write proof is incomplete.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T16:38:36.398059+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T16:51:49.841629+01:00","closed_at":"2026-02-11T16:51:49.841629+01:00","close_reason":"Closed"}
{"id":"kura-training-dz8","title":"API Skeleton: axum + sqlx + utoipa, Health-Endpoint, Error-Struktur, Request-IDs, Tracing","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:03.330477+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-07T21:53:13.183937+01:00","closed_at":"2026-02-07T21:53:13.183937+01:00","close_reason":"Closed"}
{"id":"kura-training-faz","title":"Projection freshness SLA metadata in API responses","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T07:42:51.528706+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T08:02:06.34401+01:00","closed_at":"2026-02-11T08:02:06.34401+01:00","close_reason":"Added ProjectionMeta freshness SLA metadata (age_seconds + fresh/warming/stale status) across projection and agent context responses with core classification tests"}
{"id":"kura-training-goy","title":"Onboarding interview design (agent-side)","description":"Design the onboarding interview flow: agent conducts adaptive interview with new user, produces standard events (preference.set, exercise.alias_created, goal.set, profile.updated). Inspired by Anthropic Interviewer. Interview is agent-side, not Kura-side — Kura receives the resulting events.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T13:39:17.788435+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T20:48:06.472316+01:00","closed_at":"2026-02-08T20:48:06.472316+01:00","close_reason":"Implemented Decision 8: interview guide in system layer, context_seeds, coverage computation, profile.updated + injury.reported events, bootstrap response, 126 tests passing","dependencies":[{"issue_id":"kura-training-goy","depends_on_id":"kura-training-nv2","type":"blocks","created_at":"2026-02-08T13:39:32.511804+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-he1","title":"Enforce HTTPS and add HSTS","description":"Redirect HTTP to HTTPS, add Strict-Transport-Security header. Production security requirement.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T11:00:02.097685+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T11:16:10.404403+01:00","closed_at":"2026-02-08T11:16:10.404403+01:00","close_reason":"Closed"}
{"id":"kura-training-hj7","title":"Shell-Sonderzeichen in Übungsnamen absichern","description":"Übungsnamen mit \u0026 (z.B. 'Clean \u0026 Push Press') brechen curl-Calls im Shell. Agent musste auf Temp-Files ausweichen. Betrifft CLI und jede Shell-basierte Agent-Integration. Lösung: CLI muss Escaping korrekt handhaben, API-Docs sollten auf JSON-File-Input hinweisen. Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":3,"issue_type":"bug","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:43:02.05986+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:43:41.29831+01:00","closed_at":"2026-02-10T07:43:41.29831+01:00","close_reason":"Note im CLI-Code (cli/src/main.rs) hinterlassen bei --data Argument. Fix kommt wenn CLI Event-Create richtig ausgebaut wird (--data-file / stdin)."}
{"id":"kura-training-hwo","title":"Derivative-Enriched Projections: Werte mit eingebauter Dynamik","description":"## Ursprung\n\nAus einem Vortrag über ein mathematisches Framework mit diesen Eigenschaften:\n- Basic type ist Winkel (periodisch), mit variabler Auflösung und Dimensionen\n- Winkel sind nicht statisch, sondern dynamisch (enthalten Info über ihre eigene Veränderung im nächsten Schritt, 1-3 Ableitungen)\n- Kurze, periodische Propagationen (wenige Schichten)\n- Niedrige Auflösung von Werten und Gradienten\n\n## Was das für Kura ausgelöst hat\n\n### Kernproblem heute\nProjections sind **Zustandsfotos**. Eine 1RM ist eine Zahl, ein Wochenvolumen ist eine Zahl. Der Agent muss Trends *selbst rekonstruieren*, indem er Zeitreihen vergleicht. Und ob ein Trend an Fahrt gewinnt oder verliert (Beschleunigung), muss er aus Trends ableiten. Das ist viel kognitive Arbeit für den Agenten — und fehleranfällig.\n\n### Idee: Werte tragen ihre eigenen Ableitungen\nStatt:\n```json\n{\"bench_press_1rm\": 100.0}\n```\nKönnte ein Wert seine Dynamik mitbringen:\n```json\n{\n  \"bench_press_1rm\": {\n    \"value\": 100.0,\n    \"velocity\": 2.5,\n    \"acceleration\": -0.5\n  }\n}\n```\nEin einziger Lesevorgang sagt dem Agenten: \"Du bist bei 100kg, wirst stärker (+2.5kg/Woche), aber die Zuwächse flachen ab (-0.5kg/Woche²).\"\n\n### Drei konkrete Designprinzipien\n\n**1. Derivative-enriched projections**\nJeder quantitative Wert in einer Projection trägt Richtung und Momentum. Der Agent liest nicht \"Zahl + Zeitreihe\", sondern \"Zustand + Dynamik\". Erweiterung des Projection-Formats, kein neues System.\n\n**2. Phase statt Trend**\nStatt \"1RM steigt\" modellieren wir \"User ist in Phase X eines Zyklus\". Training ist fundamental zyklisch:\n- Wochenrhythmus (welche Tage, Lastverteilung)\n- Mesozyklus (Akkumulation → Intensivierung → Deload → Peak)\n- Supercompensation (Belastung → Ermüdung → Erholung → Überkompensation)\n- Schlaf, Ernährung haben Wochenmuster\n\nWinkel/periodische Werte sind die natürliche Darstellung für zyklische Phänomene. Jemand in der Deload-Woche sieht nach \"Regression\" aus wenn man nur linear schaut — Phase-Modellierung erkennt das als normal.\n\n**3. Low resolution, high meaning**\nDer Agent braucht keine Präzision. Er braucht:\n- ↑↑ (steigt beschleunigt)\n- ↑→ (steigt, flacht ab)\n- →↓ (stagniert, kippt)\nDas ist fast die \"angle with low resolution\"-Idee: wenige diskrete Zustände, aber dynamisch.\n\n## Wo das hingehört\n\nNatürlicher Ort ist die **Bayesian-Schicht (kqf)**. Die Bayesian Engine berechnet nicht nur Schätzwerte, sondern Schätzwerte *mit ihren Ableitungen*. Die Projections werden dadurch von \"Fakten, aus denen der Agent Dynamik ableiten muss\" zu \"Fakten MIT Dynamik\".\n\nAuch ohne Bayesian könnte man einfache Derivative-Enrichment auf bestehende Projections anwenden (lineare Regression über letzte N Wochen → velocity, Änderung der velocity → acceleration). Aber die Bayesian-Schicht macht es richtig (Unsicherheitsquantifizierung, nicht-lineare Trends, zyklische Modelle).\n\n## Was wir bewusst NICHT übernehmen\n\n\"Short periodic propagations (few layers at a time)\" auf die Worker-Pipeline zu mappen wäre erzwungen. Projections recomputen vollständig, nicht inkrementell. Vielleicht relevant bei massiver Skalierung, aber nicht jetzt.\n\n## Bezug zu bestehender Architektur\n\n- Passt zu agent_behavior: Agent bekommt reichere Daten → kann autonomere Entscheidungen treffen\n- Passt zu projection_schemas: output_schema erweitern um derivative-enriched Typen\n- Passt zu data_quality: velocity/acceleration mit Konfidenz → Agent weiß, wie verlässlich die Dynamik-Info ist\n- Decision 10 Phase 4 (Cross-Pollination): Derivative-Enrichment könnte ein Cross-Dimension Pattern sein (gleiche Logik für 1RM, Gewicht, Schlafqualität)","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-10T20:27:08.940161+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T13:07:14.99276+01:00","closed_at":"2026-02-11T13:07:14.99276+01:00","close_reason":"Closed","dependencies":[{"issue_id":"kura-training-hwo","depends_on_id":"kura-training-kqf","type":"blocks","created_at":"2026-02-10T20:27:12.598247+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-ipu","title":"Configure CORS properly","description":"Configure CORS with explicit allowed origins instead of permissive defaults. Production security requirement.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T11:00:02.970538+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T11:16:10.414816+01:00","closed_at":"2026-02-08T11:16:10.414816+01:00","close_reason":"Closed"}
{"id":"kura-training-k71","title":"Data Integrity: Retraction-Support in Handlern (Full Replay)","description":"Handler müssen event.retracted verarbeiten können. Wenn ein retracted Event den eigenen Typ betrifft, wird die Projection per Full Replay neu berechnet.\n\nWarum Full Replay statt inkrementeller Subtraktion:\n- Korrekt bei jeder Aggregation (keine Rückwärts-Rechnung nötig)\n- Korrekturen sind selten → Performance unkritisch\n- Handler-Logik bleibt sauber (eine Berechnung, nicht zwei Pfade)\n- Bayesian Stats brauchen später sowieso Full Replay\n\nImplementierung pro Handler:\n1. Subscription auf event.retracted\n2. Prüfen ob retracted_event_id einen Event betrifft, der diesen Handler betrifft (event_type check)\n3. Alle Events des Users für eigene Event-Typen laden, retracted Events rausfiltern\n4. Projection komplett neu berechnen\n5. UPSERT wie gewohnt\n\nEdge Cases die durchdacht werden müssen:\n- exercise_progression hat Keys pro exercise_id — welche Keys sind betroffen?\n- Alias-Events retracten: Was passiert mit konsolidierten Projections?\n- Retraction eines Events das schon retracted wurde (idempotent ignorieren)\n- Performance bei Usern mit vielen Events (Pagination? Limit?)\n\nDas ist das komplexeste Ticket. Sorgfalt vor Geschwindigkeit.","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T15:41:41.493674+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T16:14:01.10177+01:00","closed_at":"2026-02-09T16:14:01.10177+01:00","close_reason":"Full Replay retraction support in all 7 handlers + router + 18 integration tests","dependencies":[{"issue_id":"kura-training-k71","depends_on_id":"kura-training-57d","type":"blocks","created_at":"2026-02-09T15:42:02.675694+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-k71","depends_on_id":"kura-training-dru","type":"blocks","created_at":"2026-02-09T15:42:02.744699+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-kk0","title":"Decision 13 Phase 3/F5: Autonomous Tier-A repair apply path","description":"Implement policy-gated Tier-A auto-apply in quality_health: auto-apply only tier=A + simulated_safe + no warnings + no unknown impacts + deterministic source, emit quality.fix.applied/rejected and quality.issue.closed artifacts, rerun invariants for verification, and add tests for positive/negative/idempotency recurrence guard.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T16:59:22.678583+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:10:42.146516+01:00","closed_at":"2026-02-11T17:10:42.146516+01:00","close_reason":"Closed"}
{"id":"kura-training-kqf","title":"Inference Dimensions: Bayesian strength estimates, fatigue-readiness scores","description":"When PyMC/Stan engine arrives, computed values like Bayesian Strength Estimates or Fatigue-Readiness Scores could become their own dimension type. Not raw data, not agent composition — statistical inference. This is Decision 6 (Three Layers of Intelligence) materialized as projections. Prerequisite: PyMC/Stan integration.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T08:13:51.040943+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T09:05:24.007736+01:00","closed_at":"2026-02-11T09:05:24.007736+01:00","close_reason":"Closed"}
{"id":"kura-training-lsg","title":"set.logged conventions: exercise_id, weight_kg, richer fields","description":"Update set.logged conventions: units in field names (weight_kg), exercise + exercise_id duality, optional fields (rpe, set_type, tempo, duration_seconds, distance_meters). Update exercise_progression handler to prefer exercise_id. Document conventions in design doc.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T13:39:08.076267+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T14:11:06.233911+01:00","closed_at":"2026-02-08T14:11:06.233911+01:00","close_reason":"Conventions documented in design doc 002, exercise_progression updated (exercise_id priority, weight_kg, rpe/set_type, input validation), validation philosophy decided (free-form, no API validation), unit tests added (15 passing), whitespace bug fixed","dependencies":[{"issue_id":"kura-training-lsg","depends_on_id":"kura-training-nv2","type":"blocks","created_at":"2026-02-08T13:39:32.361961+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-lsu","title":"MCP Server (eigenes Projekt)","description":"Separate MCP server project. Thin client over REST API, speaks MCP protocol. Tool discovery, typed schemas, persistent connection. For Claude Desktop (local) and Claude.ai (hosted). Independent from CLI.","notes":"## Agent-Native Design Considerations (aus Artikel-Review)\n\n### Completion Signals\nMCP-Tools brauchen explizite Completion-Signale, nicht nur Daten-Rückgabe. Pattern: {status: 'success'|'error'|'complete', data: {...}} — damit der Client weiß, ob eine Multi-Step-Aufgabe noch läuft oder fertig ist. REST-API nutzt HTTP-Statuscodes (reicht), MCP braucht eigene Semantik.\n\n### Context Injection / System Prompt Design\nsystem_config + user_profile/me als Agent Entry Point (Decision 7) muss im MCP Server sauber exponiert werden. Der MCP Server sollte dem Client ermöglichen, system_config als Context zu injizieren — z.B. als MCP Resource, die der Client beim Session-Start liest und in den System-Prompt einbettet.\n\n### Partial Completion Tracking\nWenn MCP-Tools intern mehrere API-Calls machen (z.B. 'logge mein komplettes Training' = mehrere set.logged Events), braucht der Client Zwischenfeedback. MCP progress notifications nutzen, nicht stumm arbeiten.","status":"open","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T13:39:22.793928+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T15:25:06.885129+01:00","dependencies":[{"issue_id":"kura-training-lsu","depends_on_id":"kura-training-wid","type":"blocks","created_at":"2026-02-09T13:46:43.313485+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-m3k","title":"Agent-Behavior Detailausbau: Szenarien, Beispiele, User-Overrides","description":"Follow-up zu 2kb. Grundgerüst (vision + operational) steht. Noch offen: konkrete Szenarien mit Beispielen (wie der 3-Tage-Plan-Fehler), User-Override-Mechanismus in user_profile (z.B. scope=proactive), Integration mit interview_guide (Kommunikationsstil erfragen).","status":"open","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-10T07:25:51.179251+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:25:51.179251+01:00"}
{"id":"kura-training-nv2","title":"Preference \u0026 Alias event types + user_profile projection","description":"Per-user alias system (exercise.alias_created, preference.set, goal.set events) and user_profile projection that answers 'what does Kura know about this user?' Foundation for agent context across sessions.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T13:39:02.247548+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T13:49:49.315141+01:00","closed_at":"2026-02-08T13:49:49.315141+01:00","close_reason":"Implemented and integration-tested"}
{"id":"kura-training-nwn","title":"CLI Skeleton: kura health, kura event create, kura event list","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-07T21:40:07.108039+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T07:35:58.288559+01:00","closed_at":"2026-02-08T07:35:58.288559+01:00","close_reason":"CLI with kura health, kura event create, kura event list. JSON-only, structured errors, auto-idempotency keys."}
{"id":"kura-training-odw","title":"Account-Löschung (DSGVO Art. 17)","description":"DSGVO Art. 17 + Art. 9 (Gesundheitsdaten): User muss eigene Daten komplett löschen können. Admin ebenfalls. Sonst niemand. Hard DELETE auf events, projections, background_jobs, api_keys, users. Privilegierte DB-Rolle nötig (app_user hat kein DELETE auf events). Endpoints: DELETE /v1/account (self), DELETE /v1/admin/users/{id} (admin).","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T18:06:46.336955+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T18:15:17.951414+01:00","closed_at":"2026-02-09T18:15:17.951414+01:00","close_reason":"Implemented: DELETE /v1/account (self) + DELETE /v1/admin/users/{id} (admin). SECURITY DEFINER function for hard delete."}
{"id":"kura-training-pdc","title":"Decision 13 Domain Gap Closure: Onboarding and coaching reliability","description":"Close domain-specific reliability gaps observed in field tests after core self-healing platform steps. Problem: platform guardrails reduce chaos, but domain-level holes still degrade UX and recommendation quality. Goal: implement concrete domain controls for onboarding completeness, phase discipline, temporal correctness, intensity semantics, and save guarantees.","design":"Reference: docs/design/013-self-healing-agentic-data-plane.md. This epic captures user-facing domain gaps discovered during live testing and expected to recur across users in different forms. Each child issue must include: root cause, failure mode, mitigation, and measurable acceptance tests.","acceptance_criteria":"1) Child issues created for onboarding baseline profile, onboarding phase transitions, timezone-first flow, RIR first-class modeling, and save-handshake enforcement. 2) Each child includes explicit problem statement and testable outcomes. 3) Work sequencing defined so dependencies are clear.","status":"open","priority":1,"issue_type":"epic","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:02:00.911494+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:02:00.911494+01:00"}
{"id":"kura-training-pdc.1","title":"Onboarding V2: Baseline Profile Completeness (explicit known/unknown/deferred)","description":"Close missing baseline profile fields during onboarding. Problem: age/body baseline is often mentioned but not captured structurally, causing downstream recommendation errors and silent omissions in summary. Implement explicit baseline slots with tri-state semantics: known, unknown, deferred.","design":"Reference Decision 13 INV-006. Add onboarding coverage area and persistence conventions for age/date_of_birth, bodyweight baseline, and optional sex/body-composition context where relevant. Ensure summaries include deferred markers instead of dropping fields.","acceptance_criteria":"1) Onboarding coverage tracks baseline profile completeness explicitly. 2) Fields can be stored as value or deferred marker. 3) User summary reflects known + deferred baseline items. 4) Data model/docs updated with conventions. 5) Tests cover mention-captured, mention-deferred, and omitted-but-flagged scenarios.","status":"in_progress","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:03:31.76997+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T21:12:15.640517+01:00","dependencies":[{"issue_id":"kura-training-pdc.1","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T17:03:31.771018+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.10","title":"Field Correction Primitive: patch-style correction event","description":"Current repair workflow relies on retract-and-relog for small field fixes, which is noisy and increases event volume. Introduce a minimal correction primitive to update specific fields while preserving immutable history and full audit trail.","design":"Add a correction event convention (for example set.corrected) referencing target_event_id and changed_fields only. Keep original event immutable, apply correction overlay in projections, and support idempotency key to avoid duplicate corrections. Retraction remains available for semantic invalidation; field-level correction is default for additive/fixup edits.","acceptance_criteria":"1) New correction event convention documented with target_event_id, changed_fields, reason, provenance, and idempotency_key.\n2) Projection logic resolves effective values using latest valid correction chain.\n3) Retract-and-relog is no longer required for pure field additions like rest_seconds.\n4) Duplicate correction submissions are idempotent.\n5) Tests cover additive correction, overwrite correction, and chain resolution.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:45:05.157004+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:27:49.137167+01:00","closed_at":"2026-02-11T19:27:49.137167+01:00","close_reason":"Implemented set.corrected convention, correction-chain overlays in projections, and additive/overwrite/chain tests with idempotency-key convention checks.","dependencies":[{"issue_id":"kura-training-pdc.10","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T18:45:05.157874+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.10","depends_on_id":"kura-training-pdc.9","type":"blocks","created_at":"2026-02-11T18:45:05.158979+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.11","title":"Automatic Session Audit Gate: mention-field mismatch detection","description":"Mentioned values are still sometimes omitted unless manually prompted. Add an automatic post-session audit gate that detects mention-present/field-missing mismatches and proposes or applies safe repairs based on confidence policy.","design":"Run a deterministic audit after session logging and before final save confirmation. Compare extracted mentions against persisted structured fields per exercise/set scope. If confidence is high and policy allows, apply auto-correction; otherwise ask one focused clarification question. Emit telemetry for detected mismatch, repair action, and unresolved mismatches.","acceptance_criteria":"1) Session-end audit runs automatically and checks mention-field consistency for core mention-bound fields.\n2) High-confidence mismatches are auto-repaired according to policy; uncertain cases ask one concise user question.\n3) Audit result is included in save receipt (clean|repaired|needs_clarification).\n4) Telemetry events emitted for mismatch_detected, mismatch_repaired, mismatch_unresolved.\n5) Tests cover clean session, auto-repair session, and clarification-required session.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:45:05.277728+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:37:19.711986+01:00","closed_at":"2026-02-11T19:37:19.711986+01:00","close_reason":"Implemented automatic session mention-field audit with policy-gated auto-repair via set.corrected, clarification fallback, save receipt audit status, and mismatch telemetry/events with tests.","dependencies":[{"issue_id":"kura-training-pdc.11","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T18:45:05.278549+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.11","depends_on_id":"kura-training-pdc.7","type":"blocks","created_at":"2026-02-11T18:45:05.279318+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.11","depends_on_id":"kura-training-2zc.1","type":"blocks","created_at":"2026-02-11T18:45:05.279888+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.11","depends_on_id":"kura-training-pdc.9","type":"blocks","created_at":"2026-02-11T18:45:05.280419+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.12","title":"Repair UX V1: progressive disclosure receipts and undo","description":"Technical repair output with raw commands and IDs can overwhelm normal users. Add a user-facing repair UX contract with plain-language summaries by default and technical details only on demand.","design":"Default response format: what changed, what stayed the same, why. Provide expandable technical details (event IDs, diffs, command trace) only when requested. Include explicit undo action for last repair batch and keep machine-readable receipt for support/debugging. Align with save-handshake state model.","acceptance_criteria":"1) Default repair feedback is plain-language and concise.\n2) Technical detail block is optional and not shown by default.\n3) Every repair returns a receipt with changed_fields_count, unchanged_metrics, and status.\n4) Undo for last repair batch is available and tested.\n5) UX integration tests verify both normal-user and power-user views.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:45:05.399898+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:41:01.269736+01:00","closed_at":"2026-02-11T19:41:01.269736+01:00","close_reason":"Added plain-language repair feedback by default, optional technical details on request, receipt contract (status/changed_fields_count/unchanged_metrics), and undo event templates with coverage tests for normal and power-user views.","dependencies":[{"issue_id":"kura-training-pdc.12","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T18:45:05.401295+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.12","depends_on_id":"kura-training-pdc.5","type":"blocks","created_at":"2026-02-11T18:45:05.402327+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.12","depends_on_id":"kura-training-pdc.11","type":"blocks","created_at":"2026-02-11T18:45:05.403183+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.13","title":"Agent Capability Manifest API: protocol negotiation without prompt edits","description":"BYOA clients should discover contract changes automatically instead of requiring manual system-prompt updates. Add a machine-readable capability manifest endpoint so agents, CLI, and MCP can self-calibrate to preferred Kura contracts.","design":"Add `GET /v1/agent/capabilities` returning protocol_version, preferred_read_endpoint, preferred_write_endpoint, required_verification_contract, supported_fallbacks, min_cli_version, min_mcp_version, and upgrade_policy metadata. Include stable schema versioning and explicit backward-compat flags so clients can negotiate behavior safely.","acceptance_criteria":"1) New endpoint `/v1/agent/capabilities` documented in OpenAPI and returns stable versioned schema.\n2) Response includes preferred endpoints (`/v1/agent/context`, `/v1/agent/write-with-proof`) plus fallback/compat metadata.\n3) Contract includes minimum client version hints for CLI/MCP.\n4) Backward compatibility policy is explicit (supported, deprecated, removed timelines/flags).\n5) Tests cover schema stability and negotiation fields.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T19:22:16.598524+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:14:25.183258+01:00","closed_at":"2026-02-11T20:14:25.183258+01:00","close_reason":"Added /v1/agent/capabilities endpoint with versioned schema, fallback metadata, upgrade policy, and API tests.","dependencies":[{"issue_id":"kura-training-pdc.13","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T19:22:16.599355+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.14","title":"Legacy Contract Upgrade Signals: machine-readable deprecation guidance","description":"When agents continue calling legacy endpoints, Kura should provide actionable upgrade signals automatically. This avoids hidden drift and removes reliance on manual prompt tuning.","design":"Add machine-readable upgrade notices for legacy access paths (e.g., direct events/projections flows when higher-level agent contract is available). Provide warning payload/headers with recommended endpoint migration, reason, and urgency level. Emit telemetry for legacy usage to monitor rollout quality.","acceptance_criteria":"1) Legacy contract usage produces machine-readable upgrade signal with recommended replacement endpoint/flow.\n2) Signals include reason, policy phase (supported|deprecated), and action hint.\n3) Telemetry event emitted for legacy usage and client metadata when available.\n4) Rate-limited to avoid response spam while remaining visible.\n5) Tests cover signal emission, suppression policy, and payload format.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T19:22:16.724451+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:14:25.25997+01:00","closed_at":"2026-02-11T20:14:25.25997+01:00","close_reason":"Added machine-readable legacy upgrade headers with rate-limited emission and telemetry logging for events/projections paths, plus middleware tests.","dependencies":[{"issue_id":"kura-training-pdc.14","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T19:22:16.725587+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.14","depends_on_id":"kura-training-pdc.13","type":"blocks","created_at":"2026-02-11T19:22:16.726649+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.15","title":"CLI Protocol Parity: write-with-proof command + compatibility doctor","description":"CLI must expose the same high-level agent contract as the API so users do not need custom prompt surgery. Add first-class write-with-proof command(s) and protocol compatibility checks.","design":"Introduce dedicated CLI command for `/v1/agent/write-with-proof` (with receipts + read-after-write targets) and ensure `kura context` maps to `/v1/agent/context`. Extend `kura doctor` to check `/v1/agent/capabilities`, detect version/contract mismatches, and output actionable remediation.","acceptance_criteria":"1) CLI has dedicated command path for write-with-proof (not only generic `kura api`).\n2) Command supports input events, read-after-write targets, timeout, and structured output parsing.\n3) `kura doctor` checks server capability manifest and warns on incompatible/legacy client usage.\n4) Help/docs updated with contract-first examples.\n5) Tests cover request serialization, doctor mismatch detection, and backward-compatible fallback behavior.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T19:22:16.846812+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:14:25.356676+01:00","closed_at":"2026-02-11T20:14:25.356676+01:00","close_reason":"Added dedicated CLI write-with-proof command and doctor capability/version checks with request serialization/version tests.","dependencies":[{"issue_id":"kura-training-pdc.15","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T19:22:16.848632+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.15","depends_on_id":"kura-training-pdc.13","type":"blocks","created_at":"2026-02-11T19:22:16.849654+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.15","depends_on_id":"kura-training-pdc.14","type":"blocks","created_at":"2026-02-11T20:03:41.721938+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.16","title":"MCP Auto-Calibration: capability-driven tool routing to agent contract","description":"MCP-connected agents should not need handcrafted prompt updates after backend contract changes. MCP integration must auto-detect Kura capabilities and route reads/writes through preferred agent endpoints.","design":"At MCP startup, fetch capability manifest and configure tools toward `/v1/agent/context` and `/v1/agent/write-with-proof` when available. Expose a lightweight health/capability status output for operators. On mismatch, emit concise upgrade notice and safe fallback behavior.","acceptance_criteria":"1) MCP startup performs capability negotiation against Kura.\n2) Tool routing prefers agent contract endpoints when supported.\n3) On unsupported contract, MCP falls back deterministically and surfaces concise operator notice.\n4) Capability status is observable (logs/diagnostic tool output).\n5) Integration tests cover supported, legacy fallback, and mismatch scenarios.","notes":"Deferred intentionally: MCP is not implemented yet. API+CLI path (pdc.13-15) has priority for current rollout.","status":"open","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T19:22:16.970682+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T20:03:36.184616+01:00","defer_until":"2026-04-01T00:00:00+02:00","dependencies":[{"issue_id":"kura-training-pdc.16","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T19:22:16.971527+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.16","depends_on_id":"kura-training-pdc.13","type":"blocks","created_at":"2026-02-11T19:22:16.972365+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.16","depends_on_id":"kura-training-pdc.15","type":"blocks","created_at":"2026-02-11T19:22:16.972962+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.2","title":"Onboarding State Machine: No Coaching Drift before Phase Close","description":"Enforce hard onboarding phase transitions. Problem: agent naturally drifts into planning/coaching before onboarding closure, creating incomplete profiles and inconsistent persistence. Implement explicit state gating between onboarding and planning modes.","design":"Introduce conversation workflow state with transition conditions and override behavior. Planning/coaching actions require onboarding_closed or explicit user override event. Emit workflow violation signals for learning loop when drift attempts occur.","acceptance_criteria":"1) State machine prevents planning payload generation before onboarding phase close unless explicit override exists. 2) Transition events are auditable. 3) User-visible messaging handles phase switch clearly. 4) Tests cover drift attempt, valid close, and explicit override path.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:03:52.582636+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:03:52.582636+01:00","dependencies":[{"issue_id":"kura-training-pdc.2","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T17:03:52.583657+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.2","depends_on_id":"kura-training-pdc.1","type":"blocks","created_at":"2026-02-11T17:05:52.293622+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.3","title":"Timezone-First Temporal Safety Flow","description":"Make timezone explicit before user-facing date math. Problem: schedule windows and week/day statements are error-prone without user timezone and lead to immediate trust loss. Add mandatory/default timezone handling path with clear assumption disclosure.","design":"Reference Decision 13 INV-003. Persist timezone preference early (or ask once with durable memory). All timeline/scheduling outputs must compute in user timezone; fallback assumptions must be explicit and logged as quality signal.","acceptance_criteria":"1) Timezone is captured or explicitly assumed before schedule/date claims. 2) Scheduling/timeline computations use user timezone consistently. 3) Missing-timezone quality issue drops after capture. 4) Tests cover DST boundary and mismatch regression case.","status":"open","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:04:08.36716+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:04:08.36716+01:00","dependencies":[{"issue_id":"kura-training-pdc.3","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T17:04:08.3687+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.4","title":"RIR as First-Class Data in Events and Plans","description":"Model Reps-In-Reserve explicitly instead of only narrative guidance. Problem: intensity prescriptions are inconsistent and hard to analyze when RIR is only implicit or text-based. Add structured RIR fields to set logging and planning conventions/projections.","design":"Extend event conventions and handlers to accept/store RIR consistently (and map with existing RPE where needed). Ensure training plans can prescribe target RIR and downstream analytics can query adherence.","acceptance_criteria":"1) set logging supports structured RIR field. 2) planning conventions support target RIR prescriptions. 3) projections expose RIR where relevant without breaking backward compatibility. 4) migration/backfill strategy documented. 5) tests cover parse, persistence, and projection output.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:04:27.87112+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:11:25.97273+01:00","closed_at":"2026-02-11T19:11:25.97273+01:00","close_reason":"Implemented RIR as first-class data in conventions and projections with backward-compatible normalization and documented backfill strategy.","dependencies":[{"issue_id":"kura-training-pdc.4","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T17:04:27.872345+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.4","depends_on_id":"kura-training-pdc.1","type":"blocks","created_at":"2026-02-11T17:06:02.567325+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.5","title":"Save Handshake Enforcement (write receipt + read-after-write)","description":"Enforce verifiable persistence before agent claims data/plan is saved. Problem: users currently need to ask manually whether a plan was persisted, creating trust risk and potential data loss. Add mandatory save handshake protocol.","design":"Reference Decision 13 INV-002 and INV-007. Agent must obtain event write receipt and projection read-back confirmation before success claim. Failures must return explicit pending/failed state and emit quality signals.","acceptance_criteria":"1) 'Saved' response is blocked unless receipt + read-back pass. 2) Protocol states visible: pending, saved_verified, failed. 3) quality signal emitted on claim mismatch attempts. 4) tests cover happy path, write success/read fail, and idempotent retry path.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:04:48.190089+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:08:38.406116+01:00","closed_at":"2026-02-11T19:08:38.406116+01:00","close_reason":"Enforced save handshake states (saved_verified|pending|failed), added idempotent retry receipt recovery, and extended handshake telemetry/quality signals with tests.","dependencies":[{"issue_id":"kura-training-pdc.5","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T17:04:48.191429+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.6","title":"Intent-aware Visualization Policy + Data-bound Specs","description":"Enable visualizations only when they improve clarity (not by default). Problem: purely textual explanations can hide misunderstandings in timeline/progression/planning topics, but always-on visualization creates noise. Goal: add policy-driven, data-bound visualization support with safe fallbacks.","design":"Add visualization decision policy based on user intent, complexity, and preference. Require a structured visualization_spec before rendering (chart/table/timeline/ascii/mermaid), bound to projection data and timezone context. Enforce explicit uncertainty labels when data quality is low. Include deterministic fallback path (ASCII/text) when rich rendering is unavailable.","acceptance_criteria":"1) Policy decides visualize vs no-visualize using explicit triggers (trend/compare/plan-vs-actual/multi-week scheduling) and supports user preference override. 2) Agent emits structured visualization_spec with declared data sources and purpose before rendering. 3) Renderer rejects specs without resolvable projection references. 4) Fallback output exists (ASCII or plain structured summary) with equivalent meaning. 5) Telemetry events added: viz_shown, viz_skipped, viz_source_bound, viz_fallback_used, viz_confusion_signal. 6) Tests cover positive trigger, negative trigger, invalid spec rejection, and fallback behavior.","status":"open","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T17:10:42.101286+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T17:10:42.101286+01:00","dependencies":[{"issue_id":"kura-training-pdc.6","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T17:10:42.102275+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.6","depends_on_id":"kura-training-pdc.3","type":"blocks","created_at":"2026-02-11T17:12:16.009893+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.6","depends_on_id":"kura-training-2zc.1","type":"blocks","created_at":"2026-02-11T17:12:26.285834+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.7","title":"Training Core Fields V1: rest_seconds + modality-aware set context","description":"Ensure core training fields are captured from day 1 across relevant modalities. Field test showed that rest time was explicitly mentioned but not logged because it was not treated as baseline schema guidance, causing avoidable data loss and user correction loops. Goal: define and enforce a core field profile for set logging (including rest_seconds) with mention-to-field capture rules.","design":"Reference Decision 13 domain gap closure. Introduce modality-aware core field matrix (e.g., strength/oly/hypertrophy) with default fields such as reps, load/time/distance, RPE/RIR, rest_seconds, set_type/warmup-context where applicable. Add extraction rules so explicit user mentions (e.g., 'Pause 90 sec') are mapped proactively. Surface missing-core-field hints via quality checks instead of relying on ad-hoc agent memory.","acceptance_criteria":"1) Define a modality-aware core-field registry with field classes: required, optional, and mention-bound.\n2) `rest_seconds` is optional by default, but becomes mandatory to persist when the user explicitly mentions a pause/rest value.\n3) Session-default rule is enforced: a mentioned set-context value (e.g., rest, effort, tempo) applies to subsequent relevant sets in the same exercise until overridden.\n4) Mention→field extraction is deterministic (synonyms/units covered) and does not require an extra user reminder.\n5) Agent must not fabricate optional values; absent mention keeps the field unset/null.\n6) Quality/invariant checks flag mention-present/field-missing cases and provide remediation hints.\n7) Tests cover mention→field mapping, session-default propagation, and `rest_seconds` regression.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:28:10.188947+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:16:28.157933+01:00","closed_at":"2026-02-11T19:16:28.157933+01:00","close_reason":"Added modality-aware core-field registry, deterministic mention→field extraction, session-default propagation for mention-bound context, and quality invariant detection for mention-field mismatches.","dependencies":[{"issue_id":"kura-training-pdc.7","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T18:28:10.189956+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.7","depends_on_id":"kura-training-pdc.4","type":"blocks","created_at":"2026-02-11T18:28:41.295961+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.8","title":"Session Feedback Standardization: session.completed convention + projection","description":"Standardize post-session subjective feedback as first-class data instead of orphaned event types. Field test showed 'training felt good/fun' was logged as session.completed but remained orphaned, limiting longitudinal analysis and recommendation quality. Goal: define a canonical session feedback event convention and projection support.","design":"Add documented event convention for session completion/feedback with fields for enjoyment, perceived quality, perceived exertion summary, pain/discomfort signal, and free-text context. Implement a projection that aggregates these signals over time and exposes coach-relevant patterns (e.g., enjoyment trend, load-to-enjoyment alignment). Keep flexible text while ensuring baseline structured fields.","acceptance_criteria":"1) session feedback event type is documented in event conventions (no orphan status in normal flow). 2) Handler/projection surfaces session feedback trends over time. 3) Agent can reference this projection for planning adaptations. 4) Existing orphaned session.completed events can be mapped/handled without data loss where feasible. 5) Tests cover ingestion, projection output, and trend aggregation.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:28:27.408323+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:49:17.894205+01:00","closed_at":"2026-02-11T19:49:17.894205+01:00","close_reason":"Added session.completed convention + session_feedback projection (trend and load alignment), API context/simulation integration, legacy payload normalization, and ingestion/output/trend tests.","dependencies":[{"issue_id":"kura-training-pdc.8","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T18:28:27.409243+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.8","depends_on_id":"kura-training-pdc.7","type":"blocks","created_at":"2026-02-11T18:28:51.583428+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pdc.9","title":"Repair Provenance Contract: source confidence and scope","description":"Repairs currently flatten certainty into final values and hide whether fields were explicit, inferred, or estimated. This reduces auditability and can silently overstate data quality. Add a repair provenance contract so every corrected field keeps origin and confidence metadata.","design":"Introduce structured repair metadata for corrected events/fields: source_type (explicit|inferred|estimated|user_confirmed), confidence (0..1 or band), repair_reason, and applies_scope (single_set|exercise_session|session). Ensure projection surfaces both effective value and provenance state for downstream policy and UI decisions.","acceptance_criteria":"1) Event conventions define provenance fields for repaired values.\n2) Any repair operation persists provenance metadata per corrected field or correction bundle.\n3) Projections expose provenance in machine-readable form without breaking old consumers.\n4) Quality checks can filter high-confidence vs low-confidence repairs.\n5) Tests cover explicit, inferred, and user-confirmed repair paths.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T18:45:05.03608+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T19:20:48.708949+01:00","closed_at":"2026-02-11T19:20:48.708949+01:00","close_reason":"Implemented repair provenance contract (source_type/confidence/scope/reason), exposed provenance in repair proposals/events, and added confidence-based repair filtering with tests.","dependencies":[{"issue_id":"kura-training-pdc.9","depends_on_id":"kura-training-pdc","type":"parent-child","created_at":"2026-02-11T18:45:05.0371+01:00","created_by":"jonzim-cmd"},{"issue_id":"kura-training-pdc.9","depends_on_id":"kura-training-pdc.7","type":"blocks","created_at":"2026-02-11T18:45:05.037971+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-pef","title":"Onboarding: Kommunikationsstil und Erfahrungslevel als Profilfelder","description":"context_seeds in Decision 8 sehen Felder wie communication_style, experience_level, language vor, aber sie existieren noch nicht konkret. profile.updated muss diese Felder verstehen. Agent soll Stil anpassen können basierend auf Nutzerpräferenz. Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:36:14.139981+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:30:01.851196+01:00","closed_at":"2026-02-10T07:30:01.851196+01:00","close_reason":"communication_style als Freitext-Feld in profile.updated + coverage_area communication_preferences im interview_guide. Sprache nicht nötig (ergibt sich aus Kontext)."}
{"id":"kura-training-pl5","title":"Convention: empty projections vs early return","description":"Handlers return early when no events exist, so dimensions never appear in manifest for new users. Need convention: should handlers create empty projections with zero/null values so the agent can discover that the dimension exists but has no data? Affects training_timeline and exercise_progression.","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-08T15:18:34.984294+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T08:17:21.712622+01:00","closed_at":"2026-02-09T08:17:21.712622+01:00","close_reason":"Convention established: no empty projections. System layer declares existence (dimension_meta), user layer shows 'no_data'. Already implemented in _build_user_dimensions()."}
{"id":"kura-training-r7z","title":"Model Eval Harness: Replay, Calibration, und Shadow-Mode für Inference","description":"Create an evaluation harness for semantic resolution and Bayesian projections with offline replay, interval calibration metrics, error taxonomy, and shadow-mode rollout checks before enabling autonomous behavior changes.","notes":"Required for high-confidence innovation velocity without regressions.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T08:36:55.196745+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T12:43:51.514049+01:00","closed_at":"2026-02-11T12:43:51.514049+01:00","close_reason":"Implemented replay harness (projection_history + event_store), semantic + calibration metrics, inference telemetry taxonomy, shadow-mode rollout checks, and persistent eval run/artifact versioning with tests.","labels":["mlops","quality","testing"]}
{"id":"kura-training-rod","title":"Plan-vs-Ist Vergleich ermöglichen","description":"Agent muss wissen: Welches Training steht als nächstes an? Was wurde diese Woche schon gemacht? Aktuell muss er Plan + training_timeline manuell abgleichen. Mögliche Lösungen: (1) training_timeline bekommt sessions_this_week Feld mit Plan-Matching, (2) Agent-seitige Komposition aus Plan + Timeline (dann braucht es den Snapshot-Endpoint). Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:42:58.427759+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:41:04.547731+01:00","closed_at":"2026-02-10T07:41:04.547731+01:00","close_reason":"By design gelöst: Snapshot-Endpoint + recent_sessions mit Top-Sets + training_plan geben dem Agent alle Daten für Plan-vs-Ist. Agent-seitige Komposition ist hier die bessere Architektur als Cross-Dimension-Coupling.","dependencies":[{"issue_id":"kura-training-rod","depends_on_id":"kura-training-7an","type":"blocks","created_at":"2026-02-09T21:43:06.797537+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-s9z","title":"Rate Limiting on auth endpoints","description":"Add rate limiting to /v1/auth/register, /v1/auth/authorize, and /v1/auth/token to prevent brute-force attacks. Production security requirement.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-08T11:00:00.753215+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-08T11:16:10.39203+01:00","closed_at":"2026-02-08T11:16:10.39203+01:00","close_reason":"Closed"}
{"id":"kura-training-svc","title":"Extend eval harness to causal_inference","description":"Add causal_inference support to offline evaluation pipeline: extend projection type allow-lists in workers/src/kura_workers/eval_harness.py and workers/src/kura_workers/eval_cli.py, add causal artifact persistence support in migrations (inference_eval_artifacts projection_type check), and define causal calibration/quality metrics with thresholds for shadow-mode gating.","status":"closed","priority":3,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-11T14:42:55.196987+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T15:11:01.594114+01:00","closed_at":"2026-02-11T15:11:01.594114+01:00","close_reason":"Closed","labels":["causal","mlops","testing"]}
{"id":"kura-training-syn","title":"Semantic Resolve API Endpoint","description":"Add dedicated semantic resolution endpoint(s) so agents can submit free-text terms and receive ranked canonical candidates (exercise/food) with confidence bands and provenance. Use semantic_memory + embeddings backend.","notes":"Foundation exists; API contract missing.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T09:04:52.382559+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T09:31:10.425371+01:00","closed_at":"2026-02-11T09:31:10.425371+01:00","close_reason":"Semantic Resolve endpoint mit Tests und Doku umgesetzt","labels":["agent-interface","api","semantic"]}
{"id":"kura-training-tct","title":"Projection-Output-Schemas in system_config","description":"Handler deklarieren ihre Projection-Output-Felder in dimension_meta (output_schema). build_system_config() sammelt sie ein und liefert sie über GET /v1/system/config aus. Damit weiß der Agent sofort welche Felder eine Projection hat, ohne raten zu müssen. Beispiel: exercise_progression hat estimated_1rm, total_sets, weekly_history[].estimated_1rm, etc.","notes":"Entstanden aus Agent-Walkthrough (2026-02-10): Agent konnte Projection-Daten nicht lesen weil Feldnamen unbekannt (estimated_1rm vs personal_records.best_estimated_1rm.value). Jeder Handler hat bereits dimension_meta in handlers/*.py. Erweitern um output_schema dict. build_system_config() in system_config.py sammelt es ein. Dann in GET /v1/system/config sichtbar. Kein API-Change nötig, nur Worker-seitig.","status":"closed","priority":2,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-10T19:47:37.322685+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T20:16:13.947751+01:00","closed_at":"2026-02-10T20:16:13.947751+01:00","close_reason":"Closed"}
{"id":"kura-training-w9p","title":"training_timeline: Top-Sets pro Übung pro Tag in recent_days","description":"recent_days in training_timeline zeigt aktuell nur Übungsliste + Aggregate (total_sets, total_volume). Für einen schnellen Tagesüberblick fehlen die konkreten Top-Sets (schwerster Satz, bester 1RM) pro Übung. Mit dieser Anreicherung reicht EIN API-Call für 'Was hab ich heute gemacht?' statt 1+N Calls. Entdeckt im Kura-Playtest 2026-02-09.","status":"closed","priority":3,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-09T21:42:54.492323+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-10T07:36:29.088661+01:00","closed_at":"2026-02-10T07:36:29.088661+01:00","close_reason":"Top-sets per exercise in recent_days + recent_sessions. epley_1rm moved to shared utils. Best estimated 1RM wins per exercise per day/session.","dependencies":[{"issue_id":"kura-training-w9p","depends_on_id":"kura-training-alk","type":"blocks","created_at":"2026-02-09T21:43:06.717554+01:00","created_by":"jonzim-cmd"}]}
{"id":"kura-training-wid","title":"E2E Validation via CLI vor MCP Server","description":"Manueller E2E Happy Path durch den CLI gegen laufende Instanz. User anlegen, Events posten (alle Event-Types), Projections lesen, Daten validieren. Lücken fixen bevor MCP Server gebaut wird.","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T13:46:39.098108+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T14:12:54.632062+01:00","closed_at":"2026-02-09T14:12:54.632062+01:00","close_reason":"E2E validation complete. All 7 dimensions validated, 3 discoverability gaps found and fixed (projection_key, 18 event_conventions, bed_time naming)."}
{"id":"kura-training-y0t","title":"Nightly Refit Scheduler Hardening","description":"Replace bootstrap-based recurring inference scheduling with a dedicated durable scheduler mechanism (single-flight, dedup, recovery after failed run). Add explicit telemetry for next_run_at and missed-run catch-up behavior.","notes":"Follow-up from semantic/bayesian foundation implementation.","status":"closed","priority":3,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-11T09:04:52.382683+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T11:21:38.334534+01:00","closed_at":"2026-02-11T11:21:38.334534+01:00","close_reason":"Durable Nightly Scheduler mit single-flight, dedup, failed-run recovery und Telemetrie (next_run_at/missed_runs) implementiert; lokal mit DB-Integrationstests verifiziert","labels":["bayesian","scheduler","workers"]}
{"id":"kura-training-yep","title":"Observability: Access Pattern Logging Middleware","description":"Strukturiertes Access-Log auf API-Ebene. Erfasst Agent-Zugriffsmuster unabhängig davon, ob CLI oder MCP Server der Client ist.\n\nLogged wird:\n(timestamp, user_id, method, endpoint, projection_type, key, status_code, batch_size, response_time_ms)\n\nKeine User-Daten, nur Zugriffsmuster.\n\nDaraus lesen wir:\n- Welche Projections zusammen gelesen werden (→ Kandidaten für Graduation zu Domain-Tools)\n- Welche Event-Sequenzen häufig sind (→ Batch-Optimierungen)\n- Ob Batch oder Einzel überwiegt\n- Welche Endpoints nie genutzt werden (→ tote API-Fläche)\n- Response-Zeiten pro Endpoint (→ Performance-Monitoring)\n\nImplementierung: axum Middleware/Layer, eigene Tabelle (api_access_log), kein RLS nötig (Infra-Daten, nicht User-Daten).\n\nMuss VOR dem ersten echten Agent-Einsatz stehen — sonst fehlen die Daten von Anfang an.\n\nUnabhängig von den Data Integrity Tickets — kann parallel gebaut werden.","status":"closed","priority":2,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T15:41:58.20729+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T16:47:55.092723+01:00","closed_at":"2026-02-09T16:47:55.092723+01:00","close_reason":"Auth refactored to Tower Layer (InjectAuthLayer), AccessLogLayer captures all /v1/* access patterns, api_access_log table with analytics indexes. 26 Rust + 233 Python tests passing."}
{"id":"kura-training-yi1","title":"Decision 13 Phase 0: Self-Healing Instrumentation","description":"Implement the first production slice from docs/design/013-self-healing-agentic-data-plane.md (Phase 0). Add read-only invariant evaluation over events/projections and a quality_health/overview projection so system quality becomes measurable before autonomous repair.","design":"Reference: docs/design/013-self-healing-agentic-data-plane.md (Decision 13), sections Decision 13.2, 13.3, 13.4, Rollout Phase 0. Keep append-only and non-mutating behavior; no auto-fixes in this phase.","acceptance_criteria":"1) Invariant evaluator runs in read-only mode and emits typed issues without mutating canonical events. 2) New projection quality_health/overview is computed and queryable. 3) Projection includes score/status/open-issue counts by severity and top issue summaries. 4) At least one integration-style test proves issue detection from real event data. 5) Documentation/comments reference Decision 13 explicitly.","status":"closed","priority":1,"issue_type":"feature","owner":"jonzim@posteo.de","created_at":"2026-02-11T16:13:13.624513+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-11T16:17:33.185633+01:00","closed_at":"2026-02-11T16:17:33.185633+01:00","close_reason":"Implemented Decision 13 Phase 0 slice: read-only invariant evaluator (INV-001/003/005/006), new quality_health/overview projection with score/status/issue summaries, unit tests, and integration-style quality health test (DB-backed)."}
{"id":"kura-training-zhr","title":"Split system layer: system_config table + endpoint","description":"Extract deployment-static system layer from user_profile monolith into separate system_config table and API endpoint. system_config written at worker startup, user_profile slimmed to user+agenda only.","status":"closed","priority":1,"issue_type":"task","owner":"jonzim@posteo.de","created_at":"2026-02-09T14:45:26.846565+01:00","created_by":"jonzim-cmd","updated_at":"2026-02-09T14:51:28.948653+01:00","closed_at":"2026-02-09T14:51:28.948653+01:00","close_reason":"Implemented: system_config table + GET /v1/system/config endpoint. user_profile slimmed to {user, agenda}. 204 Python tests passing, Rust compiles clean."}
